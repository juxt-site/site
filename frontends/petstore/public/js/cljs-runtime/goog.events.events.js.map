{
"version":3,
"file":"goog.events.events.js",
"lineCount":331,
"mappings":"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",
"sources":["goog/events/events.js"],
"sourcesContent":["/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview An event manager for both native browser event\n * targets and custom JavaScript event targets\n * (`goog.events.Listenable`). This provides an abstraction\n * over browsers' event systems.\n *\n * It also provides a simulation of W3C event model's capture phase in\n * Internet Explorer (IE 8 and below). Caveat: the simulation does not\n * interact well with listeners registered directly on the elements\n * (bypassing goog.events) or even with listeners registered via\n * goog.events in a separate JS binary. In these cases, we provide\n * no ordering guarantees.\n *\n * The listeners will receive a \"patched\" event object. Such event object\n * contains normalized values for certain event properties that differs in\n * different browsers.\n *\n * Example usage:\n * <pre>\n * goog.events.listen(myNode, 'click', function(e) { alert('woo') });\n * goog.events.listen(myNode, 'mouseover', mouseHandler, true);\n * goog.events.unlisten(myNode, 'mouseover', mouseHandler, true);\n * goog.events.removeAll(myNode);\n * </pre>\n *\n *                                            in IE and event object patching]\n *\n * @see ../demos/events.html\n * @see ../demos/event-propagation.html\n * @see ../demos/stopevent.html\n */\n\n// IMPLEMENTATION NOTES:\n// goog.events stores an auxiliary data structure on each EventTarget\n// source being listened on. This allows us to take advantage of GC,\n// having the data structure GC'd when the EventTarget is GC'd. This\n// GC behavior is equivalent to using W3C DOM Events directly.\n\ngoog.provide('goog.events');\ngoog.provide('goog.events.CaptureSimulationMode');\ngoog.provide('goog.events.Key');\ngoog.provide('goog.events.ListenableType');\n\ngoog.require('goog.asserts');\ngoog.require('goog.debug.entryPointRegistry');\ngoog.require('goog.events.BrowserEvent');\ngoog.require('goog.events.BrowserFeature');\ngoog.require('goog.events.Listenable');\ngoog.require('goog.events.ListenerMap');\ngoog.requireType('goog.debug.ErrorHandler');\ngoog.requireType('goog.events.EventId');\ngoog.requireType('goog.events.EventLike');\ngoog.requireType('goog.events.EventWrapper');\ngoog.requireType('goog.events.ListenableKey');\ngoog.requireType('goog.events.Listener');\n\n\n/**\n * @typedef {number|goog.events.ListenableKey}\n */\ngoog.events.Key;\n\n\n/**\n * @typedef {EventTarget|goog.events.Listenable}\n */\ngoog.events.ListenableType;\n\n\n/**\n * Property name on a native event target for the listener map\n * associated with the event target.\n * @private @const {string}\n */\ngoog.events.LISTENER_MAP_PROP_ = 'closure_lm_' + ((Math.random() * 1e6) | 0);\n\n\n/**\n * String used to prepend to IE event types.\n * @const\n * @private\n */\ngoog.events.onString_ = 'on';\n\n\n/**\n * Map of computed \"on<eventname>\" strings for IE event types. Caching\n * this removes an extra object allocation in goog.events.listen which\n * improves IE6 performance.\n * @const\n * @dict\n * @private\n */\ngoog.events.onStringMap_ = {};\n\n\n/**\n * @enum {number} Different capture simulation mode for IE8-.\n */\ngoog.events.CaptureSimulationMode = {\n  /**\n   * Does not perform capture simulation. Will asserts in IE8- when you\n   * add capture listeners.\n   */\n  OFF_AND_FAIL: 0,\n\n  /**\n   * Does not perform capture simulation, silently ignore capture\n   * listeners.\n   */\n  OFF_AND_SILENT: 1,\n\n  /**\n   * Performs capture simulation.\n   */\n  ON: 2\n};\n\n\n/**\n * @define {number} The capture simulation mode for IE8-. By default,\n *     this is ON.\n */\ngoog.events.CAPTURE_SIMULATION_MODE =\n    goog.define('goog.events.CAPTURE_SIMULATION_MODE', 2);\n\n\n/**\n * Estimated count of total native listeners.\n * @private {number}\n */\ngoog.events.listenerCountEstimate_ = 0;\n\n\n/**\n * Adds an event listener for a specific event on a native event\n * target (such as a DOM element) or an object that has implemented\n * {@link goog.events.Listenable}. A listener can only be added once\n * to an object and if it is added again the key for the listener is\n * returned. Note that if the existing listener is a one-off listener\n * (registered via listenOnce), it will no longer be a one-off\n * listener after a call to listen().\n *\n * @param {EventTarget|goog.events.Listenable} src The node to listen\n *     to events on.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type or array of event types.\n * @param {function(this:T, EVENTOBJ):?|{handleEvent:function(?):?}|null}\n *     listener Callback method, or an object with a handleEvent function.\n *     WARNING: passing an Object is now softly deprecated.\n * @param {(boolean|!AddEventListenerOptions)=} opt_options\n * @param {T=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.Key} Unique key for the listener.\n * @template T,EVENTOBJ\n */\ngoog.events.listen = function(src, type, listener, opt_options, opt_handler) {\n  'use strict';\n  if (opt_options && opt_options.once) {\n    return goog.events.listenOnce(\n        src, type, listener, opt_options, opt_handler);\n  }\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listen(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n\n  listener = goog.events.wrapListener(listener);\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    var capture =\n        goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n    return src.listen(\n        /** @type {string|!goog.events.EventId} */ (type), listener, capture,\n        opt_handler);\n  } else {\n    return goog.events.listen_(\n        /** @type {!EventTarget} */ (src), type, listener,\n        /* callOnce */ false, opt_options, opt_handler);\n  }\n};\n\n\n/**\n * Adds an event listener for a specific event on a native event\n * target. A listener can only be added once to an object and if it\n * is added again the key for the listener is returned.\n *\n * Note that a one-off listener will not change an existing listener,\n * if any. On the other hand a normal listener will change existing\n * one-off listener to become a normal listener.\n *\n * @param {EventTarget} src The node to listen to events on.\n * @param {string|?goog.events.EventId<EVENTOBJ>} type Event type.\n * @param {!Function} listener Callback function.\n * @param {boolean} callOnce Whether the listener is a one-off\n *     listener or otherwise.\n * @param {(boolean|!AddEventListenerOptions)=} opt_options\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.ListenableKey} Unique key for the listener.\n * @template EVENTOBJ\n * @private\n */\ngoog.events.listen_ = function(\n    src, type, listener, callOnce, opt_options, opt_handler) {\n  'use strict';\n  if (!type) {\n    throw new Error('Invalid event type');\n  }\n\n  var capture =\n      goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n\n  var listenerMap = goog.events.getListenerMap_(src);\n  if (!listenerMap) {\n    src[goog.events.LISTENER_MAP_PROP_] = listenerMap =\n        new goog.events.ListenerMap(src);\n  }\n\n  var listenerObj = /** @type {goog.events.Listener} */ (\n      listenerMap.add(type, listener, callOnce, capture, opt_handler));\n\n  // If the listenerObj already has a proxy, it has been set up\n  // previously. We simply return.\n  if (listenerObj.proxy) {\n    return listenerObj;\n  }\n\n  var proxy = goog.events.getProxy();\n  listenerObj.proxy = proxy;\n\n  proxy.src = src;\n  proxy.listener = listenerObj;\n\n  // Attach the proxy through the browser's API\n  if (src.addEventListener) {\n    // Don't pass an object as `capture` if the browser doesn't support that.\n    if (!goog.events.BrowserFeature.PASSIVE_EVENTS) {\n      opt_options = capture;\n    }\n    // Don't break tests that expect a boolean.\n    if (opt_options === undefined) opt_options = false;\n    src.addEventListener(type.toString(), proxy, opt_options);\n  } else if (src.attachEvent) {\n    // The else if above used to be an unconditional else. It would call\n    // attachEvent come gws or high water. This would sometimes throw an\n    // exception on IE11, spoiling the day of some callers. The previous\n    // incarnation of this code, from 2007, indicates that it replaced an\n    // earlier still version that caused excess allocations on IE6.\n    src.attachEvent(goog.events.getOnString_(type.toString()), proxy);\n  } else if (src.addListener && src.removeListener) {\n    // In IE, MediaQueryList uses addListener() insteadd of addEventListener. In\n    // Safari, there is no global for the MediaQueryList constructor, so we just\n    // check whether the object \"looks like\" MediaQueryList.\n    goog.asserts.assert(\n        type === 'change', 'MediaQueryList only has a change event');\n    src.addListener(proxy);\n  } else {\n    throw new Error('addEventListener and attachEvent are unavailable.');\n  }\n\n  goog.events.listenerCountEstimate_++;\n  return listenerObj;\n};\n\n\n/**\n * Helper function for returning a proxy function.\n * @return {!Function} A new or reused function object.\n */\ngoog.events.getProxy = function() {\n  'use strict';\n  const proxyCallbackFunction = goog.events.handleBrowserEvent_;\n  const f = function(eventObject) {\n    return proxyCallbackFunction.call(f.src, f.listener, eventObject);\n  };\n  return f;\n};\n\n\n/**\n * Adds an event listener for a specific event on a native event\n * target (such as a DOM element) or an object that has implemented\n * {@link goog.events.Listenable}. After the event has fired the event\n * listener is removed from the target.\n *\n * If an existing listener already exists, listenOnce will do\n * nothing. In particular, if the listener was previously registered\n * via listen(), listenOnce() will not turn the listener into a\n * one-off listener. Similarly, if there is already an existing\n * one-off listener, listenOnce does not modify the listeners (it is\n * still a once listener).\n *\n * @param {EventTarget|goog.events.Listenable} src The node to listen\n *     to events on.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type or array of event types.\n * @param {function(this:T, EVENTOBJ):?|{handleEvent:function(?):?}|null}\n *     listener Callback method.\n * @param {(boolean|!AddEventListenerOptions)=} opt_options\n * @param {T=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.Key} Unique key for the listener.\n * @template T,EVENTOBJ\n */\ngoog.events.listenOnce = function(\n    src, type, listener, opt_options, opt_handler) {\n  'use strict';\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listenOnce(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n\n  listener = goog.events.wrapListener(listener);\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    var capture =\n        goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n    return src.listenOnce(\n        /** @type {string|!goog.events.EventId} */ (type), listener, capture,\n        opt_handler);\n  } else {\n    return goog.events.listen_(\n        /** @type {!EventTarget} */ (src), type, listener,\n        /* callOnce */ true, opt_options, opt_handler);\n  }\n};\n\n\n/**\n * Adds an event listener with a specific event wrapper on a DOM Node or an\n * object that has implemented {@link goog.events.Listenable}. A listener can\n * only be added once to an object.\n *\n * @param {EventTarget|goog.events.Listenable} src The target to\n *     listen to events on.\n * @param {goog.events.EventWrapper} wrapper Event wrapper to use.\n * @param {function(this:T, ?):?|{handleEvent:function(?):?}|null} listener\n *     Callback method, or an object with a handleEvent function.\n * @param {boolean=} opt_capt Whether to fire in capture phase (defaults to\n *     false).\n * @param {T=} opt_handler Element in whose scope to call the listener.\n * @template T\n */\ngoog.events.listenWithWrapper = function(\n    src, wrapper, listener, opt_capt, opt_handler) {\n  'use strict';\n  wrapper.listen(src, listener, opt_capt, opt_handler);\n};\n\n\n/**\n * Removes an event listener which was added with listen().\n *\n * @param {EventTarget|goog.events.Listenable} src The target to stop\n *     listening to events on.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type or array of event types to unlisten to.\n * @param {function(?):?|{handleEvent:function(?):?}|null} listener The\n *     listener function to remove.\n * @param {(boolean|!EventListenerOptions)=} opt_options\n *     whether the listener is fired during the capture or bubble phase of the\n *     event.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {?boolean} indicating whether the listener was there to remove.\n * @template EVENTOBJ\n */\ngoog.events.unlisten = function(src, type, listener, opt_options, opt_handler) {\n  'use strict';\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.unlisten(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n  var capture =\n      goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n\n  listener = goog.events.wrapListener(listener);\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return src.unlisten(\n        /** @type {string|!goog.events.EventId} */ (type), listener, capture,\n        opt_handler);\n  }\n\n  if (!src) {\n    // TODO(chrishenry): We should tighten the API to only accept\n    // non-null objects, or add an assertion here.\n    return false;\n  }\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {!EventTarget} */ (src));\n  if (listenerMap) {\n    var listenerObj = listenerMap.getListener(\n        /** @type {string|!goog.events.EventId} */ (type), listener, capture,\n        opt_handler);\n    if (listenerObj) {\n      return goog.events.unlistenByKey(listenerObj);\n    }\n  }\n\n  return false;\n};\n\n\n/**\n * Removes an event listener which was added with listen() by the key\n * returned by listen().\n *\n * @param {goog.events.Key} key The key returned by listen() for this\n *     event listener.\n * @return {boolean} indicating whether the listener was there to remove.\n */\ngoog.events.unlistenByKey = function(key) {\n  'use strict';\n  // TODO(chrishenry): Remove this check when tests that rely on this\n  // are fixed.\n  if (typeof key === 'number') {\n    return false;\n  }\n\n  var listener = key;\n  if (!listener || listener.removed) {\n    return false;\n  }\n\n  var src = listener.src;\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return /** @type {!goog.events.Listenable} */ (src).unlistenByKey(listener);\n  }\n\n  var type = listener.type;\n  var proxy = listener.proxy;\n  if (src.removeEventListener) {\n    src.removeEventListener(type, proxy, listener.capture);\n  } else if (src.detachEvent) {\n    src.detachEvent(goog.events.getOnString_(type), proxy);\n  } else if (src.addListener && src.removeListener) {\n    src.removeListener(proxy);\n  }\n  goog.events.listenerCountEstimate_--;\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {!EventTarget} */ (src));\n  // TODO(chrishenry): Try to remove this conditional and execute the\n  // first branch always. This should be safe.\n  if (listenerMap) {\n    listenerMap.removeByKey(listener);\n    if (listenerMap.getTypeCount() == 0) {\n      // Null the src, just because this is simple to do (and useful\n      // for IE <= 7).\n      listenerMap.src = null;\n      // We don't use delete here because IE does not allow delete\n      // on a window object.\n      src[goog.events.LISTENER_MAP_PROP_] = null;\n    }\n  } else {\n    /** @type {!goog.events.Listener} */ (listener).markAsRemoved();\n  }\n\n  return true;\n};\n\n\n/**\n * Removes an event listener which was added with listenWithWrapper().\n *\n * @param {EventTarget|goog.events.Listenable} src The target to stop\n *     listening to events on.\n * @param {goog.events.EventWrapper} wrapper Event wrapper to use.\n * @param {function(?):?|{handleEvent:function(?):?}|null} listener The\n *     listener function to remove.\n * @param {boolean=} opt_capt In DOM-compliant browsers, this determines\n *     whether the listener is fired during the capture or bubble phase of the\n *     event.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n */\ngoog.events.unlistenWithWrapper = function(\n    src, wrapper, listener, opt_capt, opt_handler) {\n  'use strict';\n  wrapper.unlisten(src, listener, opt_capt, opt_handler);\n};\n\n\n/**\n * Removes all listeners from an object. You can also optionally\n * remove listeners of a particular type.\n *\n * @param {Object|undefined} obj Object to remove listeners from. Must be an\n *     EventTarget or a goog.events.Listenable.\n * @param {string|!goog.events.EventId=} opt_type Type of event to remove.\n *     Default is all types.\n * @return {number} Number of listeners removed.\n */\ngoog.events.removeAll = function(obj, opt_type) {\n  'use strict';\n  // TODO(chrishenry): Change the type of obj to\n  // (!EventTarget|!goog.events.Listenable).\n\n  if (!obj) {\n    return 0;\n  }\n\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return /** @type {?} */ (obj).removeAllListeners(opt_type);\n  }\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {!EventTarget} */ (obj));\n  if (!listenerMap) {\n    return 0;\n  }\n\n  var count = 0;\n  var typeStr = opt_type && opt_type.toString();\n  for (var type in listenerMap.listeners) {\n    if (!typeStr || type == typeStr) {\n      // Clone so that we don't need to worry about unlistenByKey\n      // changing the content of the ListenerMap.\n      var listeners = listenerMap.listeners[type].concat();\n      for (var i = 0; i < listeners.length; ++i) {\n        if (goog.events.unlistenByKey(listeners[i])) {\n          ++count;\n        }\n      }\n    }\n  }\n  return count;\n};\n\n\n/**\n * Gets the listeners for a given object, type and capture phase.\n *\n * @param {Object} obj Object to get listeners for.\n * @param {string|!goog.events.EventId} type Event type.\n * @param {boolean} capture Capture phase?.\n * @return {!Array<!goog.events.Listener>} Array of listener objects.\n */\ngoog.events.getListeners = function(obj, type, capture) {\n  'use strict';\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return /** @type {!goog.events.Listenable} */ (obj).getListeners(\n        type, capture);\n  } else {\n    if (!obj) {\n      // TODO(chrishenry): We should tighten the API to accept\n      // !EventTarget|goog.events.Listenable, and add an assertion here.\n      return [];\n    }\n\n    var listenerMap = goog.events.getListenerMap_(\n        /** @type {!EventTarget} */ (obj));\n    return listenerMap ? listenerMap.getListeners(type, capture) : [];\n  }\n};\n\n\n/**\n * Gets the goog.events.Listener for the event or null if no such listener is\n * in use.\n *\n * @param {EventTarget|goog.events.Listenable} src The target from\n *     which to get listeners.\n * @param {?string|!goog.events.EventId<EVENTOBJ>} type The type of the event.\n * @param {function(EVENTOBJ):?|{handleEvent:function(?):?}|null} listener The\n *     listener function to get.\n * @param {boolean=} opt_capt In DOM-compliant browsers, this determines\n *                            whether the listener is fired during the\n *                            capture or bubble phase of the event.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.ListenableKey} the found listener or null if not found.\n * @template EVENTOBJ\n */\ngoog.events.getListener = function(src, type, listener, opt_capt, opt_handler) {\n  'use strict';\n  // TODO(chrishenry): Change type from ?string to string, or add assertion.\n  type = /** @type {string} */ (type);\n  listener = goog.events.wrapListener(listener);\n  var capture = !!opt_capt;\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return src.getListener(type, listener, capture, opt_handler);\n  }\n\n  if (!src) {\n    // TODO(chrishenry): We should tighten the API to only accept\n    // non-null objects, or add an assertion here.\n    return null;\n  }\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {!EventTarget} */ (src));\n  if (listenerMap) {\n    return listenerMap.getListener(type, listener, capture, opt_handler);\n  }\n  return null;\n};\n\n\n/**\n * Returns whether an event target has any active listeners matching the\n * specified signature. If either the type or capture parameters are\n * unspecified, the function will match on the remaining criteria.\n *\n * @param {EventTarget|goog.events.Listenable} obj Target to get\n *     listeners for.\n * @param {string|!goog.events.EventId=} opt_type Event type.\n * @param {boolean=} opt_capture Whether to check for capture or bubble-phase\n *     listeners.\n * @return {boolean} Whether an event target has one or more listeners matching\n *     the requested type and/or capture phase.\n */\ngoog.events.hasListener = function(obj, opt_type, opt_capture) {\n  'use strict';\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.hasListener(opt_type, opt_capture);\n  }\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {!EventTarget} */ (obj));\n  return !!listenerMap && listenerMap.hasListener(opt_type, opt_capture);\n};\n\n\n/**\n * Provides a nice string showing the normalized event objects public members\n * @param {Object} e Event Object.\n * @return {string} String of the public members of the normalized event object.\n */\ngoog.events.expose = function(e) {\n  'use strict';\n  var str = [];\n  for (var key in e) {\n    if (e[key] && e[key].id) {\n      str.push(key + ' = ' + e[key] + ' (' + e[key].id + ')');\n    } else {\n      str.push(key + ' = ' + e[key]);\n    }\n  }\n  return str.join('\\n');\n};\n\n\n/**\n * Returns a string with on prepended to the specified type. This is used for IE\n * which expects \"on\" to be prepended. This function caches the string in order\n * to avoid extra allocations in steady state.\n * @param {string} type Event type.\n * @return {string} The type string with 'on' prepended.\n * @private\n */\ngoog.events.getOnString_ = function(type) {\n  'use strict';\n  if (type in goog.events.onStringMap_) {\n    return goog.events.onStringMap_[type];\n  }\n  return goog.events.onStringMap_[type] = goog.events.onString_ + type;\n};\n\n\n/**\n * Fires an object's listeners of a particular type and phase\n *\n * @param {Object} obj Object whose listeners to call.\n * @param {string|!goog.events.EventId} type Event type.\n * @param {boolean} capture Which event phase.\n * @param {Object} eventObject Event object to be passed to listener.\n * @return {boolean} True if all listeners returned true else false.\n */\ngoog.events.fireListeners = function(obj, type, capture, eventObject) {\n  'use strict';\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return /** @type {!goog.events.Listenable} */ (obj).fireListeners(\n        type, capture, eventObject);\n  }\n\n  return goog.events.fireListeners_(obj, type, capture, eventObject);\n};\n\n\n/**\n * Fires an object's listeners of a particular type and phase.\n * @param {Object} obj Object whose listeners to call.\n * @param {string|!goog.events.EventId} type Event type.\n * @param {boolean} capture Which event phase.\n * @param {Object} eventObject Event object to be passed to listener.\n * @return {boolean} True if all listeners returned true else false.\n * @private\n */\ngoog.events.fireListeners_ = function(obj, type, capture, eventObject) {\n  'use strict';\n  /** @type {boolean} */\n  var retval = true;\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {EventTarget} */ (obj));\n  if (listenerMap) {\n    // TODO(chrishenry): Original code avoids array creation when there\n    // is no listener, so we do the same. If this optimization turns\n    // out to be not required, we can replace this with\n    // listenerMap.getListeners(type, capture) instead, which is simpler.\n    var listenerArray = listenerMap.listeners[type.toString()];\n    if (listenerArray) {\n      listenerArray = listenerArray.concat();\n      for (var i = 0; i < listenerArray.length; i++) {\n        var listener = listenerArray[i];\n        // We might not have a listener if the listener was removed.\n        if (listener && listener.capture == capture && !listener.removed) {\n          var result = goog.events.fireListener(listener, eventObject);\n          retval = retval && (result !== false);\n        }\n      }\n    }\n  }\n  return retval;\n};\n\n\n/**\n * Fires a listener with a set of arguments\n *\n * @param {goog.events.Listener} listener The listener object to call.\n * @param {Object} eventObject The event object to pass to the listener.\n * @return {*} Result of listener.\n */\ngoog.events.fireListener = function(listener, eventObject) {\n  'use strict';\n  var listenerFn = listener.listener;\n  var listenerHandler = listener.handler || listener.src;\n\n  if (listener.callOnce) {\n    goog.events.unlistenByKey(listener);\n  }\n  return listenerFn.call(listenerHandler, eventObject);\n};\n\n\n/**\n * Gets the total number of listeners currently in the system.\n * @return {number} Number of listeners.\n * @deprecated This returns estimated count, now that Closure no longer\n * stores a central listener registry. We still return an estimation\n * to keep existing listener-related tests passing. In the near future,\n * this function will be removed.\n */\ngoog.events.getTotalListenerCount = function() {\n  'use strict';\n  return goog.events.listenerCountEstimate_;\n};\n\n\n/**\n * Dispatches an event (or event like object) and calls all listeners\n * listening for events of this type. The type of the event is decided by the\n * type property on the event object.\n *\n * If any of the listeners returns false OR calls preventDefault then this\n * function will return false.  If one of the capture listeners calls\n * stopPropagation, then the bubble listeners won't fire.\n *\n * @param {goog.events.Listenable} src The event target.\n * @param {goog.events.EventLike} e Event object.\n * @return {boolean} If anyone called preventDefault on the event object (or\n *     if any of the handlers returns false) this will also return false.\n *     If there are no handlers, or if all handlers return true, this returns\n *     true.\n */\ngoog.events.dispatchEvent = function(src, e) {\n  'use strict';\n  goog.asserts.assert(\n      goog.events.Listenable.isImplementedBy(src),\n      'Can not use goog.events.dispatchEvent with ' +\n          'non-goog.events.Listenable instance.');\n  return src.dispatchEvent(e);\n};\n\n\n/**\n * Installs exception protection for the browser event entry point using the\n * given error handler.\n *\n * @param {goog.debug.ErrorHandler} errorHandler Error handler with which to\n *     protect the entry point.\n */\ngoog.events.protectBrowserEventEntryPoint = function(errorHandler) {\n  'use strict';\n  goog.events.handleBrowserEvent_ =\n      errorHandler.protectEntryPoint(goog.events.handleBrowserEvent_);\n};\n\n\n/**\n * Handles an event and dispatches it to the correct listeners. This\n * function is a proxy for the real listener the user specified.\n *\n * @param {goog.events.Listener} listener The listener object.\n * @param {Event=} opt_evt Optional event object that gets passed in via the\n *     native event handlers.\n * @return {*} Result of the event handler.\n * @this {EventTarget} The object or Element that fired the event.\n * @private\n */\ngoog.events.handleBrowserEvent_ = function(listener, opt_evt) {\n  'use strict';\n  if (listener.removed) {\n    return true;\n  }\n\n  // Otherwise, simply fire the listener.\n  return goog.events.fireListener(\n      listener, new goog.events.BrowserEvent(opt_evt, this));\n};\n\n\n/**\n * This is used to mark the IE event object so we do not do the Closure pass\n * twice for a bubbling event.\n * @param {Event} e The IE browser event.\n * @private\n */\ngoog.events.markIeEvent_ = function(e) {\n  'use strict';\n  // Only the keyCode and the returnValue can be changed. We use keyCode for\n  // non keyboard events.\n  // event.returnValue is a bit more tricky. It is undefined by default. A\n  // boolean false prevents the default action. In a window.onbeforeunload and\n  // the returnValue is non undefined it will be alerted. However, we will only\n  // modify the returnValue for keyboard events. We can get a problem if non\n  // closure events sets the keyCode or the returnValue\n\n  var useReturnValue = false;\n\n  if (e.keyCode == 0) {\n    // We cannot change the keyCode in case that srcElement is input[type=file].\n    // We could test that that is the case but that would allocate 3 objects.\n    // If we use try/catch we will only allocate extra objects in the case of a\n    // failure.\n\n    try {\n      e.keyCode = -1;\n      return;\n    } catch (ex) {\n      useReturnValue = true;\n    }\n  }\n\n  if (useReturnValue ||\n      /** @type {boolean|undefined} */ (e.returnValue) == undefined) {\n    e.returnValue = true;\n  }\n};\n\n\n/**\n * This is used to check if an IE event has already been handled by the Closure\n * system so we do not do the Closure pass twice for a bubbling event.\n * @param {Event} e  The IE browser event.\n * @return {boolean} True if the event object has been marked.\n * @private\n */\ngoog.events.isMarkedIeEvent_ = function(e) {\n  'use strict';\n  return e.keyCode < 0 || e.returnValue != undefined;\n};\n\n\n/**\n * Counter to create unique event ids.\n * @private {number}\n */\ngoog.events.uniqueIdCounter_ = 0;\n\n\n/**\n * Creates a unique event id.\n *\n * @param {string} identifier The identifier.\n * @return {string} A unique identifier.\n * @idGenerator {unique}\n */\ngoog.events.getUniqueId = function(identifier) {\n  'use strict';\n  return identifier + '_' + goog.events.uniqueIdCounter_++;\n};\n\n\n/**\n * @param {EventTarget} src The source object.\n * @return {goog.events.ListenerMap} A listener map for the given\n *     source object, or null if none exists.\n * @private\n */\ngoog.events.getListenerMap_ = function(src) {\n  'use strict';\n  var listenerMap = src[goog.events.LISTENER_MAP_PROP_];\n  // IE serializes the property as well (e.g. when serializing outer\n  // HTML). So we must check that the value is of the correct type.\n  return listenerMap instanceof goog.events.ListenerMap ? listenerMap : null;\n};\n\n\n/**\n * Expando property for listener function wrapper for Object with\n * handleEvent.\n * @private @const {string}\n */\ngoog.events.LISTENER_WRAPPER_PROP_ =\n    '__closure_events_fn_' + ((Math.random() * 1e9) >>> 0);\n\n\n/**\n * @param {Object|Function} listener The listener function or an\n *     object that contains handleEvent method.\n * @return {!Function} Either the original function or a function that\n *     calls obj.handleEvent. If the same listener is passed to this\n *     function more than once, the same function is guaranteed to be\n *     returned.\n */\ngoog.events.wrapListener = function(listener) {\n  'use strict';\n  goog.asserts.assert(listener, 'Listener can not be null.');\n\n  if (typeof listener === 'function') {\n    return listener;\n  }\n\n  goog.asserts.assert(\n      listener.handleEvent, 'An object listener must have handleEvent method.');\n  if (!listener[goog.events.LISTENER_WRAPPER_PROP_]) {\n    listener[goog.events.LISTENER_WRAPPER_PROP_] = function(e) {\n      'use strict';\n      return /** @type {?} */ (listener).handleEvent(e);\n    };\n  }\n  return listener[goog.events.LISTENER_WRAPPER_PROP_];\n};\n\n\n// Register the browser event handler as an entry point, so that\n// it can be monitored for exception handling, etc.\ngoog.debug.entryPointRegistry.register(\n    /**\n     * @param {function(!Function): !Function} transformer The transforming\n     *     function.\n     */\n    function(transformer) {\n      'use strict';\n      goog.events.handleBrowserEvent_ =\n          transformer(goog.events.handleBrowserEvent_);\n    });\n"],
"names":["goog","provide","require","requireType","events","Key","ListenableType","LISTENER_MAP_PROP_","Math","random","onString_","onStringMap_","CaptureSimulationMode","OFF_AND_FAIL","OFF_AND_SILENT","ON","CAPTURE_SIMULATION_MODE","define","listenerCountEstimate_","listen","goog.events.listen","src","type","listener","opt_options","opt_handler","once","listenOnce","Array","isArray","i","length","wrapListener","Listenable","isImplementedBy","capture","isObject","listen_","goog.events.listen_","callOnce","Error","listenerMap","getListenerMap_","ListenerMap","listenerObj","add","proxy","getProxy","addEventListener","BrowserFeature","PASSIVE_EVENTS","undefined","toString","attachEvent","getOnString_","addListener","removeListener","asserts","assert","goog.events.getProxy","proxyCallbackFunction","handleBrowserEvent_","f","eventObject","call","goog.events.listenOnce","listenWithWrapper","goog.events.listenWithWrapper","wrapper","opt_capt","unlisten","goog.events.unlisten","getListener","unlistenByKey","goog.events.unlistenByKey","key","removed","removeEventListener","detachEvent","removeByKey","getTypeCount","markAsRemoved","unlistenWithWrapper","goog.events.unlistenWithWrapper","removeAll","goog.events.removeAll","obj","opt_type","removeAllListeners","count","typeStr","listeners","concat","getListeners","goog.events.getListeners","goog.events.getListener","hasListener","goog.events.hasListener","opt_capture","expose","goog.events.expose","e","str","id","push","join","goog.events.getOnString_","fireListeners","goog.events.fireListeners","fireListeners_","goog.events.fireListeners_","retval","listenerArray","result","fireListener","goog.events.fireListener","listenerFn","listenerHandler","handler","getTotalListenerCount","goog.events.getTotalListenerCount","dispatchEvent","goog.events.dispatchEvent","protectBrowserEventEntryPoint","goog.events.protectBrowserEventEntryPoint","errorHandler","protectEntryPoint","goog.events.handleBrowserEvent_","opt_evt","BrowserEvent","markIeEvent_","goog.events.markIeEvent_","useReturnValue","keyCode","ex","returnValue","isMarkedIeEvent_","goog.events.isMarkedIeEvent_","uniqueIdCounter_","getUniqueId","goog.events.getUniqueId","identifier","goog.events.getListenerMap_","LISTENER_WRAPPER_PROP_","goog.events.wrapListener","handleEvent","debug","entryPointRegistry","register","transformer"]
}
