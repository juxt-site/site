{"version":3,"sources":["shadow/arborist/protocols.cljs"],"mappings":";AAEA,AAAA;AAAA;;;qCAAA,rCAAaiB;;AAAb,IAAAjB,+DAAA,WACuBkB,MAAKC;AAD5B,AAAA,IAAAlB,kBAAA,EAAA,UAAA,OAAA,hBACuBiB,qBAAAA;IADvBhB,kBAAA,CAAAC,0CAAA,AAAAC,YAAAH;AAAA,AAAA,GAAA,GAAA,CAAAC,mBAAA;AAAA,QAAAA,gDAAAA,4DAAAA,dACuBgB,wCAAAA,lCAAKC,wCAAAA;;AAD5B,IAAAd,kBAAA,CAAAF,0CAAA;AAAA,AAAA,GAAA,GAAA,CAAAE,mBAAA;AAAA,QAAAA,gDAAAA,4DAAAA,dACuBa,wCAAAA,lCAAKC,wCAAAA;;AAD5B,MAAA,AAAAb,2BAAA,qBACuBY;;;;AADvB,AAAA,4CAAA,5CACYf,gGAAWe,MAAKC;AAD5B,AAAA,GAAA,EAAA,GAAA,UAAA,aAAA,GAAA,CAAA,oEAAA,9FACuBD,0BAAAA;AADvB,OACuBA,iEAAAA,MAAKC;;AAD5B,OAAAnB,6DACuBkB,MAAKC;;;;AAD5B,IAAAZ,8DAAA,WAEcW,MAAKC;AAFnB,AAAA,IAAAlB,kBAAA,EAAA,UAAA,OAAA,hBAEciB,qBAAAA;IAFdhB,kBAAA,CAAAM,yCAAA,AAAAJ,YAAAH;AAAA,AAAA,GAAA,GAAA,CAAAC,mBAAA;AAAA,QAAAA,gDAAAA,4DAAAA,dAEcgB,wCAAAA,lCAAKC,wCAAAA;;AAFnB,IAAAd,kBAAA,CAAAG,yCAAA;AAAA,AAAA,GAAA,GAAA,CAAAH,mBAAA;AAAA,QAAAA,gDAAAA,4DAAAA,dAEca,wCAAAA,lCAAKC,wCAAAA;;AAFnB,MAAA,AAAAb,2BAAA,qBAEcY;;;;AAFd,AAAA,2CAAA,3CAEGV,8FAAWU,MAAKC;AAFnB,AAAA,GAAA,EAAA,GAAA,UAAA,aAAA,GAAA,CAAA,mEAAA,7FAEcD,0BAAAA;AAFd,OAEcA,gEAAAA,MAAKC;;AAFnB,OAAAZ,4DAEcW,MAAKC;;;;AAFnB,IAAAV,0DAAA,WAIeS,MAAKE,OAAOC;AAJ3B,AAAA,IAAApB,kBAAA,EAAA,UAAA,OAAA,hBAIeiB,qBAAAA;IAJfhB,kBAAA,CAAAQ,qCAAA,AAAAN,YAAAH;AAAA,AAAA,GAAA,GAAA,CAAAC,mBAAA;AAAA,QAAAA,gDAAAA,qEAAAA,vBAIegB,iDAAAA,3CAAKE,iDAAAA,1CAAOC,iDAAAA;;AAJ3B,IAAAhB,kBAAA,CAAAK,qCAAA;AAAA,AAAA,GAAA,GAAA,CAAAL,mBAAA;AAAA,QAAAA,gDAAAA,qEAAAA,vBAIea,iDAAAA,3CAAKE,iDAAAA,1CAAOC,iDAAAA;;AAJ3B,MAAA,AAAAf,2BAAA,sBAIeY;;;;AAJf,AAAA,uCAAA,vCAIGR,sFAAYQ,MAAKE,OAAOC;AAJ3B,AAAA,GAAA,EAAA,GAAA,UAAA,aAAA,GAAA,CAAA,+DAAA,zFAIeH,0BAAAA;AAJf,OAIeA,4DAAAA,MAAKE,OAAOC;;AAJ3B,OAAAZ,wDAIeS,MAAKE,OAAOC;;;;AAJ3B,IAAAV,yDAAA,WAKcO;AALd,AAAA,IAAAjB,kBAAA,EAAA,UAAA,OAAA,hBAKciB,qBAAAA;IALdhB,kBAAA,CAAAU,oCAAA,AAAAR,YAAAH;AAAA,AAAA,GAAA,GAAA,CAAAC,mBAAA;AAAA,QAAAA,gDAAAA,uDAAAA,TAKcgB,mCAAAA;;AALd,IAAAb,kBAAA,CAAAO,oCAAA;AAAA,AAAA,GAAA,GAAA,CAAAP,mBAAA;AAAA,QAAAA,gDAAAA,uDAAAA,TAKca,mCAAAA;;AALd,MAAA,AAAAZ,2BAAA,qBAKcY;;;;AALd,AAAA,sCAAA,tCAKGN,oFAAWM;AALd,AAAA,GAAA,EAAA,GAAA,UAAA,aAAA,GAAA,CAAA,8DAAA,xFAKcA,0BAAAA;AALd,OAKcA,2DAAAA;;AALd,OAAAP,uDAKcO;;;;AALd,IAAAL,iEAAA,WAWiBK;AAXjB,AAAA,IAAAjB,kBAAA,EAAA,UAAA,OAAA,hBAWiBiB,qBAAAA;IAXjBhB,kBAAA,CAAAY,4CAAA,AAAAV,YAAAH;AAAA,AAAA,GAAA,GAAA,CAAAC,mBAAA;AAAA,QAAAA,gDAAAA,uDAAAA,TAWiBgB,mCAAAA;;AAXjB,IAAAb,kBAAA,CAAAS,4CAAA;AAAA,AAAA,GAAA,GAAA,CAAAT,mBAAA;AAAA,QAAAA,gDAAAA,uDAAAA,TAWiBa,mCAAAA;;AAXjB,MAAA,AAAAZ,2BAAA,wBAWiBY;;;;AAXjB,AAAA,8CAAA,9CAWGJ,oGAAcI;AAXjB,AAAA,GAAA,EAAA,GAAA,UAAA,aAAA,GAAA,CAAA,sEAAA,hGAWiBA,0BAAAA;AAXjB,OAWiBA,mEAAAA;;AAXjB,OAAAL,+DAWiBK;;;;AAXjB,IAAAH,6DAAA,WAeaG,MAAcI;AAf3B,AAAA,IAAArB,kBAAA,EAAA,UAAA,OAAA,hBAeaiB,qBAAAA;IAfbhB,kBAAA,CAAAc,wCAAA,AAAAZ,YAAAH;AAAA,AAAA,GAAA,GAAA,CAAAC,mBAAA;AAAA,QAAAA,gDAAAA,yEAAAA,3BAeagB,qDAAAA,/CAAcI,qDAAAA;;AAf3B,IAAAjB,kBAAA,CAAAW,wCAAA;AAAA,AAAA,GAAA,GAAA,CAAAX,mBAAA;AAAA,QAAAA,gDAAAA,yEAAAA,3BAeaa,qDAAAA,/CAAcI,qDAAAA;;AAf3B,MAAA,AAAAhB,2BAAA,oBAeaY;;;;AAfb,AAAA,0CAAA,1CAeGF,4FAAUE,MAAcI;AAf3B,AAAA,GAAA,EAAA,GAAA,UAAA,aAAA,GAAA,CAAA,kEAAA,5FAeaJ,0BAAAA;AAfb,OAeaA,+DAAAA,MAAcI;;AAf3B,OAAAP,2DAeaG,MAAcI;;;;AAf3B,AAkBA,AAAA;AAAA;;;0CAAA,1CAAaG;;AAAb,IAAAF,iEAAA,WACYL,MAAKC;AADjB,AAAA,IAAAlB,kBAAA,EAAA,UAAA,OAAA,hBACYiB,qBAAAA;IADZhB,kBAAA,CAAAsB,uCAAA,AAAApB,YAAAH;AAAA,AAAA,GAAA,GAAA,CAAAC,mBAAA;AAAA,QAAAA,gDAAAA,4DAAAA,dACYgB,wCAAAA,lCAAKC,wCAAAA;;AADjB,IAAAd,kBAAA,CAAAmB,uCAAA;AAAA,AAAA,GAAA,GAAA,CAAAnB,mBAAA;AAAA,QAAAA,gDAAAA,4DAAAA,dACYa,wCAAAA,lCAAKC,wCAAAA;;AADjB,MAAA,AAAAb,2BAAA,wBACYY;;;;AADZ,AAAA,yCAAA,zCACGM,0FAASN,MAAKC;AADjB,AAAA,GAAA,EAAA,GAAA,UAAA,aAAA,GAAA,CAAA,sEAAA,hGACYD,0BAAAA;AADZ,OACYA,mEAAAA,MAAKC;;AADjB,OAAAI,+DACYL,MAAKC;;;;AADjB,AAGA,AAAA;AAAA;;;uCAAA,vCAAaa;;AAAb,IAAAN,4DAAA,WAEeR,MAAKe;AAFpB,AAAA,IAAAhC,kBAAA,EAAA,UAAA,OAAA,hBAEeiB,qBAAAA;IAFfhB,kBAAA,CAAAyB,qCAAA,AAAAvB,YAAAH;AAAA,AAAA,GAAA,GAAA,CAAAC,mBAAA;AAAA,QAAAA,gDAAAA,2DAAAA,bAEegB,uCAAAA,jCAAKe,uCAAAA;;AAFpB,IAAA5B,kBAAA,CAAAsB,qCAAA;AAAA,AAAA,GAAA,GAAA,CAAAtB,mBAAA;AAAA,QAAAA,gDAAAA,2DAAAA,bAEea,uCAAAA,jCAAKe,uCAAAA;;AAFpB,MAAA,AAAA3B,2BAAA,wBAEeY;;;;AAFf,AAAA,uCAAA,vCAEGS,sFAAYT,MAAKe;AAFpB,AAAA,IAAAL,qBAAA,AAAAC,4CAAA,AAAAC,sBAAA,AAAA,PAEeZ;AAFf,AAAA,GAAAU;AAAA,IAAAG,0BAAAH;AAAA,AAAA,QAAAG,wDAAAA,mEAAAA,bAEeb,+CAAAA,zCAAKe,+CAAAA;;AAFpB,GAAA,EAAA,GAAA,UAAA,aAAA,GAAA,CAAA,iEAAA,3FAEef,0BAAAA;AAFf,OAEeA,8DAAAA,MAAKe;;AAFpB,OAAAP,0DAEeR,MAAKe;;;;;AAFpB,AAIA,qDAAA,rDAAMC,kHAAoBC,EAAEC;AAA5B,AACE,IAAMC,KAAG,8DAAA,AAAA,9DAACR,4CAAI,AAACC,eAAKK;IACdG,KAAG,8DAAA,AAAA,9DAACT,4CAAI,AAACC,eAAKM;AADpB,AAEE,IAAAG,oBAAKF;AAAL,AAAA,oBAAAE;AAAA,IAAAA,wBAAQD;AAAR,AAAA,oBAAAC;AAAW,QAAYF,OAAGC;;AAA1BC;;;AAAAA;;;AAEJ,AAAA;AAAA;;;6CAAA,7CAAaK;;AAAb,IAAAJ,sFAAA,WAC8BtB,MAAKe,IAAIY,MAAMC;AAD7C,AAAA,IAAA7C,kBAAA,EAAA,UAAA,OAAA,hBAC8BiB,qBAAAA;IAD9BhB,kBAAA,CAAAuC,yDAAA,AAAArC,YAAAH;AAAA,AAAA,GAAA,GAAA,CAAAC,mBAAA;AAAA,QAAAA,gDAAAA,uEAAAA,zBAC8BgB,mDAAAA,7CAAKe,mDAAAA,/CAAIY,mDAAAA,7CAAMC,mDAAAA;;AAD7C,IAAAzC,kBAAA,CAAAoC,yDAAA;AAAA,AAAA,GAAA,GAAA,CAAApC,mBAAA;AAAA,QAAAA,gDAAAA,uEAAAA,zBAC8Ba,mDAAAA,7CAAKe,mDAAAA,/CAAIY,mDAAAA,7CAAMC,mDAAAA;;AAD7C,MAAA,AAAAxC,2BAAA,6CAC8BY;;;;AAD9B,AAAA,2DAAA,3DACGuB,8HAA2BvB,MAAKe,IAAIY,MAAMC;AAD7C,AAAA,GAAA,EAAA,GAAA,UAAA,aAAA,GAAA,CAAA,2FAAA,rHAC8B5B,0BAAAA;AAD9B,OAC8BA,wFAAAA,MAAKe,IAAIY,MAAMC;;AAD7C,OAAAN,oFAC8BtB,MAAKe,IAAIY,MAAMC;;;;AAD7C,IAAAJ,8EAAA,WAEsBxB,MAAKe,IAAIY,MAAME,SAASC;AAF9C,AAAA,IAAA/C,kBAAA,EAAA,UAAA,OAAA,hBAEsBiB,qBAAAA;IAFtBhB,kBAAA,CAAAyC,iDAAA,AAAAvC,YAAAH;AAAA,AAAA,GAAA,GAAA,CAAAC,mBAAA;AAAA,QAAAA,gDAAAA,oFAAAA,tCAEsBgB,gEAAAA,1DAAKe,gEAAAA,5DAAIY,gEAAAA,1DAAME,gEAAAA,vDAASC,gEAAAA;;AAF9C,IAAA3C,kBAAA,CAAAsC,iDAAA;AAAA,AAAA,GAAA,GAAA,CAAAtC,mBAAA;AAAA,QAAAA,gDAAAA,oFAAAA,tCAEsBa,gEAAAA,1DAAKe,gEAAAA,5DAAIY,gEAAAA,1DAAME,gEAAAA,vDAASC,gEAAAA;;AAF9C,MAAA,AAAA1C,2BAAA,qCAEsBY;;;;AAFtB,AAAA,mDAAA,nDAEGyB,8GAAmBzB,MAAKe,IAAIY,MAAME,SAASC;AAF9C,AAAA,GAAA,EAAA,GAAA,UAAA,aAAA,GAAA,CAAA,mFAAA,7GAEsB9B,0BAAAA;AAFtB,OAEsBA,gFAAAA,MAAKe,IAAIY,MAAME,SAASC;;AAF9C,OAAAN,4EAEsBxB,MAAKe,IAAIY,MAAME,SAASC;;;;AAF9C","names":["shadow$arborist$protocols$IManaged$supports_QMARK_$dyn","x__5393__auto__","m__5394__auto__","shadow.arborist.protocols/supports?","goog/typeOf","m__5392__auto__","cljs.core/missing-protocol","shadow$arborist$protocols$IManaged$dom_sync_BANG_$dyn","shadow.arborist.protocols/dom-sync!","shadow$arborist$protocols$IManaged$dom_insert$dyn","shadow.arborist.protocols/dom-insert","shadow$arborist$protocols$IManaged$dom_first$dyn","shadow.arborist.protocols/dom-first","shadow$arborist$protocols$IManaged$dom_entered_BANG_$dyn","shadow.arborist.protocols/dom-entered!","shadow$arborist$protocols$IManaged$destroy_BANG_$dyn","shadow.arborist.protocols/destroy!","shadow.arborist.protocols/IManaged","this","next","parent","anchor","dom-remove?","shadow$arborist$protocols$IDirectUpdate$update_BANG_$dyn","shadow.arborist.protocols/update!","shadow.arborist.protocols/IDirectUpdate","shadow$arborist$protocols$IConstruct$as_managed$dyn","shadow.arborist.protocols/as-managed","temp__5802__auto__","cljs.core.get","cljs.core/meta","meta-impl__5395__auto__","shadow.arborist.protocols/IConstruct","env","shadow.arborist.protocols/identical-creator?","a","b","am","bm","and__5043__auto__","shadow$arborist$protocols$IHandleDOMEvents$validate_dom_event_value_BANG_$dyn","shadow.arborist.protocols/validate-dom-event-value!","shadow$arborist$protocols$IHandleDOMEvents$handle_dom_event_BANG_$dyn","shadow.arborist.protocols/handle-dom-event!","shadow.arborist.protocols/IHandleDOMEvents","event","value","ev-value","dom-event"],"sourcesContent":["(ns shadow.arborist.protocols)\n\n(defprotocol IManaged\n  (^boolean supports? [this next])\n  (dom-sync! [this next])\n\n  (dom-insert [this parent anchor])\n  (dom-first [this])\n\n  ;; called after all nodes managed by this have been added to the actual document\n  ;; might be immediately after dom-insert but may be delayed when tree is constructed\n  ;; offscreen by something like suspense\n  ;; implementations must properly propagate this to children if needed\n  (dom-entered! [this])\n\n  ;; if parent node was already removed from DOM the children\n  ;; don't need to bother removing themselves again\n  (destroy! [this ^boolean dom-remove?]))\n\n;; root user api\n(defprotocol IDirectUpdate\n  (update! [this next]))\n\n(defprotocol IConstruct\n  :extend-via-metadata true\n  (as-managed [this env]))\n\n(defn identical-creator? [a b]\n  (let [am (get (meta a) `as-managed)\n        bm (get (meta b) `as-managed)]\n    (and am bm (identical? am bm))))\n\n(defprotocol IHandleDOMEvents\n  (validate-dom-event-value! [this env event value])\n  (handle-dom-event! [this env event ev-value dom-event]))"]}